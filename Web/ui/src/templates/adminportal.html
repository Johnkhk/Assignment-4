<!DOCTYPE html><!-- Button to open the modal login form -->
<link rel="stylesheet" type="text/css" href="portal.css">
<html>
  
<body>
<h1 align='center'>Welcome Admins!</h1>

<p align='center'>Admin Portal.</p>

  <table id="myTable"style="width:30%" align='center'>
    <tr>
      <th>List of Users</th>
      <th>Status</th>
      <th>Revoke Access</th>
      <th>Grant Access</th>
    </tr>



    <script>
    var count = 0;
    var myarray = new Array();
    </script>

    <!--<button id="verify">Verify User</button> </td>
    <button id="void">Void User</button> </td-->

    {% for user in users %}

    <tr>
      <td class = "Username">{{user.Username}}</td>

      <td class = "status"> {{user.Status}}</td>

      <td> <button class="verify" onclick= "verify_user()">Verify User</button> </td> </td>

      <td> <button class="void" onclick= "void_user()">Void User</button> </td> </td>
      
    </tr>
</body>
</html>


    <script>
    //myarray[count]=count;
//  var myarray[count]= user.Username;

    count++;
        //console.log(myarray);
    //console.log()
    //var button1[count] = document.getElementById("verify");
    //button1[count].id = "verify"+count;

    //var button2[count] = document.getElementById("void");
    //button2[count].id = "void"+count;
    </script>
    {% endfor %}
  </table>
    <script>


  function verify_user(){      
      for(var i = 0; i < count; i++)
      {
        let number = i;
        document.getElementsByClassName("verify")[number].onclick = function()
          {
            
            document.getElementsByClassName("status")[number].innerHTML="Verified" 
            let request = {}; 
            request["Status"] = "Verified"; 
          };
      }
    }

    function void_user(){      
      for(var i = 0; i < count; i++)
      {
        let number = i;

          document.getElementsByClassName("void")[number].onclick = function()
          {
            console.log(number);

              //rIndex = this.rowIndex;
            document.getElementsByClassName("status")[number].innerHTML="Void" 
            var temporary = {}; 
            temporary["Status"] = "Void";  

          };
      }
    }
  
  </script>
